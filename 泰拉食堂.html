<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ³°æ‹‰é£Ÿå ‚ - æ¨¡å‹ç®¡ç†ä¸­å¿ƒ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .filter-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .filter-category {
            margin-bottom: 20px;
        }

        .filter-category h3 {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 1.2rem;
            color: #2c3e50;
        }

        .category-title {
            display: flex;
            align-items: center;
        }

        .category-actions {
            display: flex;
            gap: 8px;
        }

        .category-btn {
            padding: 4px 12px;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .select-category-btn {
            background: #27ae60;
            color: white;
        }

        .select-category-btn:hover {
            background: #219a52;
            transform: scale(1.05);
        }

        .clear-category-btn {
            background: #e74c3c;
            color: white;
        }

        .clear-category-btn:hover {
            background: #c0392b;
            transform: scale(1.05);
        }

        .filter-category .emoji {
            font-size: 1.5rem;
            margin-right: 8px;
        }

        .filter-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .tag {
            padding: 8px 16px;
            background: #ecf0f1;
            border: 2px solid #bdc3c7;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            user-select: none;
        }

        .tag:hover {
            background: #d5dbdb;
            transform: translateY(-2px);
        }

        .tag.selected {
            background: #3498db;
            color: white;
            border-color: #2980b9;
        }

        .filter-actions {
            margin-top: 15px;
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .select-all-btn {
            padding: 10px 20px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .select-all-btn:hover {
            background: #219a52;
            transform: translateY(-2px);
        }

        .clear-filters {
            margin-top: 0;
            padding: 10px 20px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .clear-filters:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }

        .models-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .models-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .models-header h2 {
            color: #2c3e50;
            margin-right: 15px;
        }

        .model-count {
            background: #3498db;
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
        }

        .models-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .model-card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .model-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border-color: #3498db;
        }

        .model-name {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .model-name .icon {
            margin-right: 8px;
            font-size: 1.5rem;
        }

        .model-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 12px;
        }

        .model-tag {
            padding: 3px 8px;
            background: #e3f2fd;
            color: #1976d2;
            border-radius: 10px;
            font-size: 0.8rem;
            border: 1px solid #bbdefb;
        }

        .no-models {
            text-align: center;
            padding: 40px;
            color: #7f8c8d;
            font-size: 1.1rem;
        }

        .stats {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            color: white;
            text-align: center;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .models-grid {
                grid-template-columns: 1fr;
            }
            
            .filter-tags {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ½ï¸ æ³°æ‹‰é£Ÿå ‚</h1>
            <p>å¹²å‘˜é¥­ç›’ç®¡ç†ä¸­å¿ƒ - é€šè¿‡è¯æ¡ç­›é€‰æŸ¥æ‰¾æ‚¨éœ€è¦çš„å¹²å‘˜é¥­ç›’</p>
        </div>

        <div class="filter-section">
            <div class="filter-category">
                <h3>
                    <div class="category-title">
                        <span class="emoji">ğŸ‘¥</span>èŒä¸š
                    </div>
                    <div class="category-actions">
                        <button class="category-btn select-category-btn" onclick="selectCategoryTags('èŒä¸š')">å…¨é€‰</button>
                        <button class="category-btn clear-category-btn" onclick="clearCategoryTags('èŒä¸š')">æ¸…é™¤</button>
                    </div>
                </h3>
                <div class="filter-tags" data-category="èŒä¸š">
                    <div class="tag" data-value="å…ˆé”‹">å…ˆé”‹</div>
                    <div class="tag" data-value="è¿‘å«">è¿‘å«</div>
                    <div class="tag" data-value="é‡è£…">é‡è£…</div>
                    <div class="tag" data-value="ç‹™å‡»">ç‹™å‡»</div>
                    <div class="tag" data-value="æœ¯å¸ˆ">æœ¯å¸ˆ</div>
                    <div class="tag" data-value="åŒ»ç–—">åŒ»ç–—</div>
                    <div class="tag" data-value="è¾…åŠ©">è¾…åŠ©</div>
                    <div class="tag" data-value="ç‰¹ç§">ç‰¹ç§</div>
                </div>
            </div>

            <div class="filter-category">
                <h3>
                    <div class="category-title">
                        <span class="emoji">ğŸ¯</span>åˆ†æ”¯
                    </div>
                    <div class="category-actions">
                        <button class="category-btn select-category-btn" onclick="selectCategoryTags('åˆ†æ”¯')">å…¨é€‰</button>
                        <button class="category-btn clear-category-btn" onclick="clearCategoryTags('åˆ†æ”¯')">æ¸…é™¤</button>
                    </div>
                </h3>
                <div class="filter-tags" data-category="åˆ†æ”¯">
                    <div class="tag" data-value="å°–å…µ">å°–å…µ</div>
                    <div class="tag" data-value="å†²é”‹æ‰‹">å†²é”‹æ‰‹</div>
                    <div class="tag" data-value="æˆ˜æœ¯å®¶">æˆ˜æœ¯å®¶</div>
                    <div class="tag" data-value="æ•™å®˜">æ•™å®˜</div>
                    <div class="tag" data-value="ç‚®æ‰‹">ç‚®æ‰‹</div>
                    <div class="tag" data-value="ç¥å°„æ‰‹">ç¥å°„æ‰‹</div>
                    <div class="tag" data-value="æ”»åŸæ‰‹">æ”»åŸæ‰‹</div>
                    <div class="tag" data-value="æŠ•æ·æ‰‹">æŠ•æ·æ‰‹</div>
                    <div class="tag" data-value="ä¸­åšæœ¯å¸ˆ">ä¸­åšæœ¯å¸ˆ</div>
                    <div class="tag" data-value="æ‰©æ•£æœ¯å¸ˆ">æ‰©æ•£æœ¯å¸ˆ</div>
                    <div class="tag" data-value="é“¾æœ¯å¸ˆ">é“¾æœ¯å¸ˆ</div>
                    <div class="tag" data-value="ç§˜æœ¯å¸ˆ">ç§˜æœ¯å¸ˆ</div>
                </div>
            </div>

            <div class="filter-category">
                <h3>
                    <div class="category-title">
                        <span class="emoji">â­</span>ç¨€æœ‰åº¦
                    </div>
                    <div class="category-actions">
                        <button class="category-btn select-category-btn" onclick="selectCategoryTags('ç¨€æœ‰åº¦')">å…¨é€‰</button>
                        <button class="category-btn clear-category-btn" onclick="clearCategoryTags('ç¨€æœ‰åº¦')">æ¸…é™¤</button>
                    </div>
                </h3>
                <div class="filter-tags" data-category="ç¨€æœ‰åº¦">
                    <div class="tag" data-value="â­1">â­1</div>
                    <div class="tag" data-value="â­2">â­2</div>
                    <div class="tag" data-value="â­3">â­3</div>
                    <div class="tag" data-value="â­4">â­4</div>
                    <div class="tag" data-value="â­5">â­5</div>
                    <div class="tag" data-value="â­6">â­6</div>
                </div>
            </div>

            <div class="filter-category">
                <h3>
                    <div class="category-title">
                        <span class="emoji">ğŸ¯</span>ä½ç½®
                    </div>
                    <div class="category-actions">
                        <button class="category-btn select-category-btn" onclick="selectCategoryTags('ä½ç½®')">å…¨é€‰</button>
                        <button class="category-btn clear-category-btn" onclick="clearCategoryTags('ä½ç½®')">æ¸…é™¤</button>
                    </div>
                </h3>
                <div class="filter-tags" data-category="ä½ç½®">
                    <div class="tag" data-value="è¿‘æˆ˜ä½">è¿‘æˆ˜ä½</div>
                    <div class="tag" data-value="è¿œç¨‹ä½">è¿œç¨‹ä½</div>
                </div>
            </div>

            <div class="filter-category">
                <h3>
                    <div class="category-title">
                        <span class="emoji">ğŸ‘¤</span>æ€§åˆ«
                    </div>
                    <div class="category-actions">
                        <button class="category-btn select-category-btn" onclick="selectCategoryTags('æ€§åˆ«')">å…¨é€‰</button>
                        <button class="category-btn clear-category-btn" onclick="clearCategoryTags('æ€§åˆ«')">æ¸…é™¤</button>
                    </div>
                </h3>
                <div class="filter-tags" data-category="æ€§åˆ«">
                    <div class="tag" data-value="ç”·æ€§">ç”·æ€§</div>
                    <div class="tag" data-value="å¥³æ€§">å¥³æ€§</div>
                </div>
            </div>

            <div class="filter-category">
                <h3>
                    <div class="category-title">
                        <span class="emoji">ğŸ</span>è·å–é€”å¾„
                    </div>
                    <div class="category-actions">
                        <button class="category-btn select-category-btn" onclick="selectCategoryTags('è·å–é€”å¾„')">å…¨é€‰</button>
                        <button class="category-btn clear-category-btn" onclick="clearCategoryTags('è·å–é€”å¾„')">æ¸…é™¤</button>
                    </div>
                </h3>
                <div class="filter-tags" data-category="è·å–é€”å¾„">
                    <div class="tag" data-value="å…¬å¼€æ‹›å‹Ÿ">å…¬å¼€æ‹›å‹Ÿ</div>
                    <div class="tag" data-value="æ ‡å‡†å¯»è®¿">æ ‡å‡†å¯»è®¿</div>
                    <div class="tag" data-value="é™å®šå¯»è®¿">é™å®šå¯»è®¿</div>
                    <div class="tag" data-value="æ´»åŠ¨è·å¾—">æ´»åŠ¨è·å¾—</div>
                    <div class="tag" data-value="å•†åº—å…‘æ¢">å•†åº—å…‘æ¢</div>
                    <div class="tag" data-value="ä¸»çº¿å…³å¡">ä¸»çº¿å…³å¡</div>
                </div>
            </div>

            <div class="filter-category">
                <h3>
                    <div class="category-title">
                        <span class="emoji">ğŸ’ª</span>è¯ç¼€
                    </div>
                    <div class="category-actions">
                        <button class="category-btn select-category-btn" onclick="selectCategoryTags('è¯ç¼€')">å…¨é€‰</button>
                        <button class="category-btn clear-category-btn" onclick="clearCategoryTags('è¯ç¼€')">æ¸…é™¤</button>
                    </div>
                </h3>
                <div class="filter-tags" data-category="è¯ç¼€">
                    <div class="tag" data-value="è¾“å‡º">è¾“å‡º</div>
                    <div class="tag" data-value="ç”Ÿå­˜">ç”Ÿå­˜</div>
                    <div class="tag" data-value="ç¾¤æ”»">ç¾¤æ”»</div>
                    <div class="tag" data-value="æ§åœº">æ§åœº</div>
                    <div class="tag" data-value="æ”¯æ´">æ”¯æ´</div>
                    <div class="tag" data-value="å‰Šå¼±">å‰Šå¼±</div>
                    <div class="tag" data-value="ä½ç§»">ä½ç§»</div>
                    <div class="tag" data-value="å¬å”¤">å¬å”¤</div>
                    <div class="tag" data-value="æ²»ç–—">æ²»ç–—</div>
                    <div class="tag" data-value="é˜²æŠ¤">é˜²æŠ¤</div>
                    <div class="tag" data-value="è´¹ç”¨å›å¤">è´¹ç”¨å›å¤</div>
                </div>
            </div>

            <div class="filter-actions">
                <button class="select-all-btn" onclick="selectAllFilters()">ğŸ”„ å…¨é€‰</button>
                <button class="clear-filters" onclick="clearAllFilters()">ğŸ—‘ï¸ æ¸…é™¤æ‰€æœ‰ç­›é€‰</button>
            </div>
        </div>

        <div class="models-section">
            <div class="models-header">
                <h2>ğŸ½ï¸ å¹²å‘˜é¥­ç›’</h2>
                <div class="model-count" id="model-count">1ä¸ª</div>
            </div>
            <div class="models-grid" id="models-grid">
                <div class="no-models">
                    ğŸ” æ­£åœ¨åŠ è½½æ¨¡å‹æ•°æ®...
                </div>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let modelsData = [];
        let selectedFilters = new Set();

        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', async function() {
            await loadModelsData();
            setupEventListeners();
            updateDisplay();
        });

        // åŠ è½½æ¨¡å‹æ•°æ®
        async function loadModelsData() {
            try {
                // è¯»å–è¯æ¡æ–‡ä»¶
                const response = await fetch('./è¯æ¡.txt');
                const text = await response.text();
                
                const lines = text.trim().split('\n').filter(line => line.trim());
                
                for (const line of lines) {
                    const parts = line.trim().split(' ').filter(part => part.trim());
                    if (parts.length >= 8) {
                        const [name, profession, branch, rarity, position, gender, obtain, ...affixes] = parts;
                        
                        // æ£€æŸ¥å¯¹åº”çš„HTMLæ–‡ä»¶æ˜¯å¦å­˜åœ¨
                        try {
                            const htmlResponse = await fetch(`./${name}.html`);
                            if (htmlResponse.ok) {
                                modelsData.push({
                                    name: name,
                                    profession: profession,
                                    branch: branch,
                                    rarity: rarity,
                                    position: position,
                                    gender: gender,
                                    obtain: obtain,
                                    affixes: affixes,
                                    allTags: [profession, branch, rarity, position, gender, obtain, ...affixes]
                                });
                            }
                        } catch (e) {
                            console.log(`æ¨¡å‹æ–‡ä»¶ ${name}.html ä¸å­˜åœ¨`);
                        }
                    }
                }
                
                console.log('åŠ è½½äº†', modelsData.length, 'ä¸ªæ¨¡å‹');
                updateStats();
            } catch (error) {
                console.error('åŠ è½½æ¨¡å‹æ•°æ®å¤±è´¥:', error);
                document.getElementById('models-grid').innerHTML = 
                    '<div class="no-models">âŒ åŠ è½½æ¨¡å‹æ•°æ®å¤±è´¥ï¼Œè¯·æ£€æŸ¥è¯æ¡.txtæ–‡ä»¶</div>';
            }
        }

        // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
        function setupEventListeners() {
            // ä¸ºæ‰€æœ‰ç­›é€‰æ ‡ç­¾æ·»åŠ ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.tag').forEach(tag => {
                tag.addEventListener('click', function() {
                    const value = this.dataset.value;
                    
                    if (this.classList.contains('selected')) {
                        // å–æ¶ˆé€‰æ‹©
                        this.classList.remove('selected');
                        selectedFilters.delete(value);
                    } else {
                        // é€‰æ‹©
                        this.classList.add('selected');
                        selectedFilters.add(value);
                    }
                    
                    updateDisplay();
                    updateStats();
                });
            });
        }

        // å…¨é€‰æ‰€æœ‰ç­›é€‰æ¡ä»¶
        function selectAllFilters() {
            // æ¸…é™¤å½“å‰é€‰æ‹©
            selectedFilters.clear();
            document.querySelectorAll('.tag.selected').forEach(tag => {
                tag.classList.remove('selected');
            });
            
            // é€‰æ‹©æ‰€æœ‰æ ‡ç­¾
            document.querySelectorAll('.tag').forEach(tag => {
                const value = tag.dataset.value;
                tag.classList.add('selected');
                selectedFilters.add(value);
            });
            
            updateDisplay();
            updateStats();
        }

        // é€‰æ‹©æŒ‡å®šåˆ†ç±»ä¸‹çš„æ‰€æœ‰è¯æ¡
        function selectCategoryTags(category) {
            const categoryTags = document.querySelectorAll(`[data-category="${category}"] .tag`);
            
            categoryTags.forEach(tag => {
                const value = tag.dataset.value;
                if (!tag.classList.contains('selected')) {
                    tag.classList.add('selected');
                    selectedFilters.add(value);
                }
            });
            
            updateDisplay();
            updateStats();
        }

        // æ¸…é™¤æŒ‡å®šåˆ†ç±»ä¸‹çš„æ‰€æœ‰è¯æ¡
        function clearCategoryTags(category) {
            const categoryTags = document.querySelectorAll(`[data-category="${category}"] .tag`);
            
            categoryTags.forEach(tag => {
                const value = tag.dataset.value;
                if (tag.classList.contains('selected')) {
                    tag.classList.remove('selected');
                    selectedFilters.delete(value);
                }
            });
            
            updateDisplay();
            updateStats();
        }

        // æ¸…é™¤æ‰€æœ‰ç­›é€‰
        function clearAllFilters() {
            selectedFilters.clear();
            document.querySelectorAll('.tag.selected').forEach(tag => {
                tag.classList.remove('selected');
            });
            updateDisplay();
            updateStats();
        }

        // æ›´æ–°æ˜¾ç¤º
        function updateDisplay() {
            const filteredModels = filterModels();
            renderModels(filteredModels);
            updateModelCount(filteredModels.length);
        }

        // ç­›é€‰æ¨¡å‹
        function filterModels() {
            if (selectedFilters.size === 0) {
                return modelsData;
            }
            
            // æŒ‰åˆ†ç±»ç»„ç»‡é€‰ä¸­çš„ç­›é€‰æ¡ä»¶
            const filtersByCategory = {
                'èŒä¸š': [],
                'åˆ†æ”¯': [],
                'ç¨€æœ‰åº¦': [],
                'ä½ç½®': [],
                'æ€§åˆ«': [],
                'è·å–é€”å¾„': [],
                'è¯ç¼€': []
            };
            
            // å°†é€‰ä¸­çš„ç­›é€‰æ¡ä»¶æŒ‰åˆ†ç±»åˆ†ç»„
            Array.from(selectedFilters).forEach(filter => {
                // æ ¹æ®è¯æ¡å€¼åˆ¤æ–­å±äºå“ªä¸ªåˆ†ç±»
                if (['å…ˆé”‹', 'è¿‘å«', 'é‡è£…', 'ç‹™å‡»', 'æœ¯å¸ˆ', 'åŒ»ç–—', 'è¾…åŠ©', 'ç‰¹ç§'].includes(filter)) {
                    filtersByCategory['èŒä¸š'].push(filter);
                } else if (['å°–å…µ', 'å†²é”‹æ‰‹', 'æˆ˜æœ¯å®¶', 'æ•™å®˜', 'ç‚®æ‰‹', 'ç¥å°„æ‰‹', 'æ”»åŸæ‰‹', 'æŠ•æ·æ‰‹', 'ä¸­åšæœ¯å¸ˆ', 'æ‰©æ•£æœ¯å¸ˆ', 'é“¾æœ¯å¸ˆ', 'ç§˜æœ¯å¸ˆ'].includes(filter)) {
                    filtersByCategory['åˆ†æ”¯'].push(filter);
                } else if (['â­1', 'â­2', 'â­3', 'â­4', 'â­5', 'â­6'].includes(filter)) {
                    filtersByCategory['ç¨€æœ‰åº¦'].push(filter);
                } else if (['è¿‘æˆ˜ä½', 'è¿œç¨‹ä½'].includes(filter)) {
                    filtersByCategory['ä½ç½®'].push(filter);
                } else if (['ç”·æ€§', 'å¥³æ€§'].includes(filter)) {
                    filtersByCategory['æ€§åˆ«'].push(filter);
                } else if (['å…¬å¼€æ‹›å‹Ÿ', 'æ ‡å‡†å¯»è®¿', 'é™å®šå¯»è®¿', 'æ´»åŠ¨è·å¾—', 'å•†åº—å…‘æ¢', 'ä¸»çº¿å…³å¡'].includes(filter)) {
                    filtersByCategory['è·å–é€”å¾„'].push(filter);
                } else if (['è¾“å‡º', 'ç”Ÿå­˜', 'ç¾¤æ”»', 'æ§åœº', 'æ”¯æ´', 'å‰Šå¼±', 'ä½ç§»', 'å¬å”¤', 'æ²»ç–—', 'é˜²æŠ¤', 'è´¹ç”¨å›å¤'].includes(filter)) {
                    filtersByCategory['è¯ç¼€'].push(filter);
                }
            });
            
            return modelsData.filter(model => {
                // å¯¹æ¯ä¸ªæœ‰ç­›é€‰æ¡ä»¶çš„åˆ†ç±»ï¼Œæ£€æŸ¥æ¨¡å‹æ˜¯å¦æ»¡è¶³è¯¥åˆ†ç±»çš„æ¡ä»¶
                for (const [category, filters] of Object.entries(filtersByCategory)) {
                    if (filters.length > 0) {
                        let categoryMatched = false;
                        
                        // åœ¨è¯¥åˆ†ç±»å†…ï¼Œåªè¦æ»¡è¶³ä»»æ„ä¸€ä¸ªæ¡ä»¶å³å¯ï¼ˆORé€»è¾‘ï¼‰
                        if (category === 'èŒä¸š') {
                            categoryMatched = filters.includes(model.profession);
                        } else if (category === 'åˆ†æ”¯') {
                            categoryMatched = filters.includes(model.branch);
                        } else if (category === 'ç¨€æœ‰åº¦') {
                            categoryMatched = filters.includes(model.rarity);
                        } else if (category === 'ä½ç½®') {
                            categoryMatched = filters.includes(model.position);
                        } else if (category === 'æ€§åˆ«') {
                            categoryMatched = filters.includes(model.gender);
                        } else if (category === 'è·å–é€”å¾„') {
                            categoryMatched = filters.includes(model.obtain);
                        } else if (category === 'è¯ç¼€') {
                            // è¯ç¼€å¯èƒ½æœ‰å¤šä¸ªï¼Œåªè¦æœ‰ä»»æ„ä¸€ä¸ªåŒ¹é…å³å¯
                            categoryMatched = filters.some(filter => model.affixes.includes(filter));
                        }
                        
                        // å¦‚æœè¯¥åˆ†ç±»ä¸åŒ¹é…ï¼Œåˆ™æ•´ä¸ªæ¨¡å‹ä¸ç¬¦åˆæ¡ä»¶
                        if (!categoryMatched) {
                            return false;
                        }
                    }
                }
                
                // æ‰€æœ‰æœ‰ç­›é€‰æ¡ä»¶çš„åˆ†ç±»éƒ½åŒ¹é…ï¼Œåˆ™è¯¥æ¨¡å‹ç¬¦åˆæ¡ä»¶
                return true;
            });
        }

        // æ¸²æŸ“æ¨¡å‹åˆ—è¡¨
        function renderModels(models) {
            const grid = document.getElementById('models-grid');
            
            if (models.length === 0) {
                grid.innerHTML = '<div class="no-models">ğŸ” æ²¡æœ‰æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ¨¡å‹</div>';
                return;
            }
            
            grid.innerHTML = models.map(model => `
                <div class="model-card" onclick="openModel('${model.name}')">
                    <div class="model-name">
                        <span class="icon">${getModelIcon(model.profession)}</span>
                        ${model.name}
                    </div>
                    <div class="model-tags">
                        <div class="model-tag">${model.profession}</div>
                        <div class="model-tag">${model.branch}</div>
                        <div class="model-tag">${model.rarity}</div>
                        <div class="model-tag">${model.position}</div>
                        ${model.affixes.map(affix => `<div class="model-tag">${affix}</div>`).join('')}
                    </div>
                </div>
            `).join('');
        }

        // è·å–æ¨¡å‹å›¾æ ‡
        function getModelIcon(profession) {
            const icons = {
                'å…ˆé”‹': 'âš”ï¸',
                'è¿‘å«': 'ğŸ—¡ï¸',
                'é‡è£…': 'ğŸ›¡ï¸',
                'ç‹™å‡»': 'ğŸ¹',
                'æœ¯å¸ˆ': 'ğŸ”®',
                'åŒ»ç–—': 'ğŸ¥',
                'è¾…åŠ©': 'ğŸŒŸ',
                'ç‰¹ç§': 'ğŸ­'
            };
            return icons[profession] || 'ğŸ‘¤';
        }

        // æ‰“å¼€æ¨¡å‹
        function openModel(modelName) {
            window.open(`./${modelName}.html`, '_blank');
        }

        // æ›´æ–°æ¨¡å‹è®¡æ•°
        function updateModelCount(count) {
            document.getElementById('model-count').textContent = `${count}ä¸ª`;
        }

        // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
        function updateStats() {
            // ç»Ÿè®¡ä¿¡æ¯å·²ç§»é™¤ï¼Œä¿ç•™å‡½æ•°ä»¥å…æŠ¥é”™
            console.log('å½“å‰æ¨¡å‹æ•°:', modelsData.length, 'é€‰ä¸­ç­›é€‰:', selectedFilters.size);
        }
    </script>
</body>
</html>